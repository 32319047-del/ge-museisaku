<!DOCTYPE html><html lang="ja"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>è¬è§£ãè„±å‡ºã‚²ãƒ¼ãƒ </title><style>* { margin: 0; padding: 0; box-sizing: border-box; } body { font-family: 'Arial', sans-serif; background-color: #1a1a1a; color: #fff; display: flex; justify-content: center; align-items: center; min-height: 100vh; } .game-container { max-width: 800px; width: 100%; background-color: #2d2d2d; border-radius: 10px; box-shadow: 0 0 20px rgba(0,0,0,0.5); padding: 30px; } .room-image { width: 100%; height: 400px; background-color: #404040; border-radius: 5px; margin-bottom: 20px; display: flex; align-items: center; justify-content: center; font-size: 18px; color: #888; } .room-description { font-size: 16px; line-height: 1.6; margin-bottom: 20px; padding: 15px; background-color: #1a1a1a; border-left: 4px solid #007bff; border-radius: 3px; } .items-section { margin-bottom: 20px; } .items-section h3 { margin-bottom: 10px; color: #007bff; } .inventory { display: grid; grid-template-columns: repeat(auto-fill, minmax(100px, 1fr)); gap: 10px; margin-bottom: 20px; } .item { background-color: #404040; padding: 10px; border-radius: 5px; text-align: center; cursor: pointer; transition: all 0.3s; border: 2px solid transparent; } .item:hover { background-color: #505050; border-color: #007bff; } .item.selected { border-color: #28a745; background-color: #2d5a2d; } .buttons-section { display: grid; grid-template-columns: repeat(auto-fill, minmax(150px, 1fr)); gap: 10px; margin-bottom: 20px; } button { padding: 10px 15px; background-color: #007bff; color: white; border: none; border-radius: 5px; cursor: pointer; font-size: 14px; transition: all 0.3s; } button:hover { background-color: #0056b3; } button:disabled { background-color: #555; cursor: not-allowed; } .message { padding: 15px; margin-bottom: 20px; border-radius: 5px; display: none; } .message.show { display: block; } .message.success { background-color: #d4edda; color: #155724; border: 1px solid #c3e6cb; } .message.error { background-color: #f8d7da; color: #721c24; border: 1px solid #f5c6cb; } .message.info { background-color: #d1ecf1; color: #0c5460; border: 1px solid #bee5eb; } .hint-section { background-color: #3d3d3d; padding: 15px; border-radius: 5px; margin-top: 20px; } .timer { font-size: 18px; font-weight: bold; color: #ff6b6b; margin-bottom: 15px; text-align: center; } .end-game-screen { text-align: center; display: none; } .end-game-screen.show { display: block; } .end-game-screen h2 { font-size: 32px; margin-bottom: 20px; } </style></head><body><div class="game-container"><h1>ğŸ”“ è¬è§£ãè„±å‡ºã‚²ãƒ¼ãƒ </h1><div class="timer" id="timer">åˆ¶é™æ™‚é–“: 300ç§’</div><div id="gameContent"><div class="room-image" id="roomImage">å¤ã„éƒ¨å±‹</div><div class="room-description" id="description">ã‚ãªãŸã¯ä¸æ°—å‘³ãªéƒ¨å±‹ã«é–‰ã˜è¾¼ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚å‘¨ã‚Šã‚’è¦‹å›ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚è¬ã‚’è§£ã„ã¦ã€ã“ã®éƒ¨å±‹ã‹ã‚‰è„±å‡ºã—ã¦ãã ã•ã„ï¼</div><div class="message" id="message"></div><div class="items-section"><h3>ğŸ” ã“ã®éƒ¨å±‹ã«ã‚ã‚‹ã‚‚ã®:</h3><div class="inventory" id="objectList"></div></div><div class="items-section"><h3>ğŸ’ ã‚¤ãƒ³ãƒ™ãƒ³ãƒˆãƒª:</h3><div class="inventory" id="inventory"></div></div><div class="buttons-section" id="actionButtons"></div><div class="hint-section"><button onclick="showHint()">ğŸ’¡ ãƒ’ãƒ³ãƒˆã‚’ã‚‚ã‚‰ã†</button><p id="hintText" style="margin-top: 10px; display: none;"></p></div></div><div class="end-game-screen" id="endGameScreen"><h2 id="endMessage"></h2><button onclick="location.reload()">ã‚‚ã†ä¸€åº¦ãƒ—ãƒ¬ã‚¤</button></div></div><script>const game = { currentRoom: 0, inventory: [], solvedPuzzles: [], timeLeft: 300, gameOver: false, rooms: [ { id: 0, name: 'å¤ã„éƒ¨å±‹', description: 'ã‚ãªãŸã¯ä¸æ°—å‘³ãªéƒ¨å±‹ã«é–‰ã˜è¾¼ã‚ã‚‰ã‚Œã¾ã—ãŸã€‚å‘¨ã‚Šã‚’è¦‹å›ã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚è¬ã‚’è§£ã„ã¦ã€ã“ã®éƒ¨å±‹ã‹ã‚‰è„±å‡ºã—ã¦ãã ã•ã„ï¼', objects: [ { id: 'key', name: 'ğŸ”‘ éµ', description: 'å°ã•ãªé‡‘å±è£½ã®éµã§ã™ã€‚ä½•ã‹ã‚’é–‹ã‘ã‚‹ã®ã«ä½¿ãˆãã†ã€‚', takeable: true }, { id: 'box', name: 'ğŸ“¦ ç®±', description: 'é‡ã„ç®±ã§ã™ã€‚ä¸­ã«ä½•ã‹å…¥ã£ã¦ã„ã‚‹ã¿ãŸã„ã§ã™ã€‚', takeable: false, puzzleId: 'box_puzzle' }, { id: 'painting', name: 'ğŸ–¼ï¸ çµµç”»', description: 'å£ã«æ›ã‹ã£ãŸå¤ã„çµµç”»ã§ã™ã€‚ä½•ã‹éš ã•ã‚Œã¦ã„ã‚‹ã®ã§ã¯ï¼Ÿ', takeable: false, puzzleId: 'painting_puzzle' } ], puzzles: [ { id: 'box_puzzle', question: 'ç®±ã‚’é–‹ã‘ã‚‹ã«ã¯ã€æ­£ã—ã„é †åºã§ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™å¿…è¦ãŒã‚ã‚Šã¾ã™ã€‚èµ¤ã€é’ã€é»„è‰²ã®é †ã«æŠ¼ã—ã¦ãã ã•ã„ã€‚', solution: 'red-blue-yellow', hint: 'è™¹ã®è‰²ã®é †ã‚’è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚' }, { id: 'painting_puzzle', question: 'çµµç”»ã®è£å´ã«ã¯æš—å·ãŒã‚ã‚Šã¾ã™ã€‚ã€ŒABCã€ã¯ã€Œ123ã€ã‚’æ„å‘³ã—ã¾ã™ã€‚ã€ŒDEFã€ã¯ä½•ã‚’æ„å‘³ã—ã¾ã™ã‹ï¼Ÿ', solution: '456', hint: 'ã‚¢ãƒ«ãƒ•ã‚¡ãƒ™ãƒƒãƒˆã®é †ç•ªã‚’è€ƒãˆã¦ãã ã•ã„ã€‚' } ], exits: [ { id: 'exit_main', name: 'ğŸšª å‡ºå£', description: 'éƒ¨å±‹ã®å‡ºå£ã§ã™ã€‚ã§ã‚‚éµãŒã‹ã‹ã£ã¦ã„ã¾ã™ã€‚', puzzleId: 'exit_puzzle' } ], exitPuzzle: { id: 'exit_puzzle', question: 'å‡ºå£ã®éµã‚’é–‹ã‘ã‚‹ã«ã¯ã€åé›†ã—ãŸã™ã¹ã¦ã®éµãŒå¿…è¦ã§ã™ã€‚ã‚ãªãŸã¯éµã‚’é›†ã‚ã¾ã—ãŸã‹ï¼Ÿ', solution: 'all_keys', hint: 'ã™ã¹ã¦ã®ãƒ‘ã‚ºãƒ«ã‚’è§£ã„ã¦ã€ã™ã¹ã¦ã®éµã‚’æ‰‹ã«å…¥ã‚Œã¦ãã ã•ã„ã€‚' } } ] }; let selectedItem = null; function initGame() { renderRoom(); startTimer(); } function renderRoom() { const room = game.rooms[game.currentRoom]; document.getElementById('description').textContent = room.description; document.getElementById('roomImage').textContent = room.name; renderObjects(); renderInventory(); renderActions(); } function renderObjects() { const room = game.rooms[game.currentRoom]; const objectList = document.getElementById('objectList'); objectList.innerHTML = ''; room.objects.forEach(obj => { const div = document.createElement('div'); div.className = 'item'; div.textContent = obj.name; div.onclick = () => interactWithObject(obj); objectList.appendChild(div); }); } function renderInventory() { const inventory = document.getElementById('inventory'); inventory.innerHTML = ''; if (game.inventory.length === 0) { inventory.innerHTML = '<p style="grid-column: 1/-1;">ã‚¢ã‚¤ãƒ†ãƒ ã‚’é›†ã‚ã¾ã—ã‚‡ã†</p>'; } else { game.inventory.forEach((item, index) => { const div = document.createElement('div'); div.className = 'item' + (selectedItem === index ? ' selected' : ''); div.textContent = item; div.onclick = () => selectItem(index); inventory.appendChild(div); }); } } function selectItem(index) { selectedItem = selectedItem === index ? null : index; renderInventory(); } function interactWithObject(obj) { if (obj.takeable) { takeItem(obj); } else if (obj.puzzleId) { solvePuzzle(obj.puzzleId); } } function takeItem(obj) { game.inventory.push(obj.name); showMessage(`${obj.name}ã‚’æ‰‹ã«å…¥ã‚Œã¾ã—ãŸï¼`, 'success'); renderInventory(); } function solvePuzzle(puzzleId) { const room = game.rooms[game.currentRoom]; const puzzle = room.puzzles.find(p => p.id === puzzleId); if (puzzle) { const answer = prompt(puzzle.question); if (answer && answer.toLowerCase() === puzzle.solution.toLowerCase()) { showMessage(`æ­£è§£ã§ã™ï¼${puzzle.id}ã®è¬ã‚’è§£ãã¾ã—ãŸï¼`, 'success'); game.solvedPuzzles.push(puzzleId); renderRoom(); } else { showMessage('æ®‹å¿µã€‚ã‚‚ã†ä¸€åº¦è€ƒãˆã¦ã¿ã¦ãã ã•ã„ã€‚', 'error'); } } } function showHint() { const room = game.rooms[game.currentRoom]; const puzzle = room.puzzles[0]; if (puzzle) { document.getElementById('hintText').textContent = puzzle.hint; document.getElementById('hintText').style.display = 'block'; } } function renderActions() { const room = game.rooms[game.currentRoom]; const actionButtons = document.getElementById('actionButtons'); actionButtons.innerHTML = ''; room.exits.forEach(exit => { const button = document.createElement('button'); button.textContent = exit.name; button.onclick = () => attemptExit(exit); actionButtons.appendChild(button); }); } function attemptExit(exit) { if (game.solvedPuzzles.length >= 2) { endGame(true); } else { showMessage('ã™ã¹ã¦ã®ãƒ‘ã‚ºãƒ«ã‚’è§£ãå¿…è¦ãŒã‚ã‚Šã¾ã™ï¼', 'error'); } } function endGame(success) { game.gameOver = true; document.getElementById('gameContent').style.display = 'none'; document.getElementById('endGameScreen').classList.add('show'); document.getElementById('endMessage').textContent = success ? 'ğŸ‰ ãŠã‚ã§ã¨ã†ï¼è„±å‡ºæˆåŠŸï¼' : 'ğŸ’€ ã‚²ãƒ¼ãƒ ã‚ªãƒ¼ãƒãƒ¼'; } function showMessage(text, type) { const message = document.getElementById('message'); message.textContent = text; message.className = 'message show ' + type; setTimeout(() => { message.classList.remove('show'); }, 3000); } function startTimer() { const timerInterval = setInterval(() => { if (game.gameOver) { clearInterval(timerInterval); return; } game.timeLeft--; document.getElementById('timer').textContent = `åˆ¶é™æ™‚é–“: ${game.timeLeft}ç§’`; if (game.timeLeft <= 0) { clearInterval(timerInterval); endGame(false); } }, 1000); } initGame();</script></body></html>